(this.webpackJsonpsecurephotoalbum=this.webpackJsonpsecurephotoalbum||[]).push([[0],{284:function(e,t){},286:function(e,t){},298:function(e,t){},300:function(e,t){},327:function(e,t){},329:function(e,t){},330:function(e,t){},335:function(e,t){},337:function(e,t){},343:function(e,t){},345:function(e,t){},364:function(e,t){},376:function(e,t){},379:function(e,t){},383:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),i=n(7),o=n(17),l=n(9),u=n.n(l),j=n(15),b=n(25),d=n(2),p=r.a.createContext(),m=r.a.createContext(),h=r.a.createContext(),O=function(e){var t=e.children,n=JSON.parse(sessionStorage.getItem("sessionInfo")),r=Object(a.useState)(n||""),c=Object(i.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),j=u[0],b=u[1],O=Object(a.useState)({}),x=Object(i.a)(O,2),f=x[0],g=x[1];return Object(a.useEffect)((function(){sessionStorage.setItem("sessionInfo",JSON.stringify(s))}),[s]),Object(d.jsx)(m.Provider,{value:[s,o],children:Object(d.jsx)(p.Provider,{value:[j,b],children:Object(d.jsx)(h.Provider,{value:[f,g],children:t})})})},x=n(30),f=n(421),g=n(423),v=n(424),y=n(425),w=n(426),C=n(427),k=n(45),P=n(428),S=n(429),N=n(211),A=n.n(N),I=n(210),D=n.n(I),W=n(209),T=n.n(W),M=Object(f.a)({root:{maxWidth:345}});function z(e){var t=M(),n=Object(a.useState)(!1),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)(!1),m=Object(i.a)(l,2),h=m[0],O=m[1],f=Object(a.useState)(!1),N=Object(i.a)(f,2),I=N[0],W=N[1],z=e.album,R=e.name,F=e.description,E=e.uid,V=e.getAlbums,U=Object(a.useContext)(p),q=Object(i.a)(U,2),B=q[0],Y=(q[1],{name:R,description:F,uid:E}),L=B.getCollectionManager();function K(e){return G.apply(this,arguments)}function G(){return(G=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,L.fetch(t);case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.prev=10,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})))).apply(this,arguments)}function H(){return(H=Object(j.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W(!1),"Send"!==t){e.next=17;break}return e.prev=2,a=B.getInvitationManager(),e.next=6,a.fetchUserProfile(n.user);case 6:return r=e.sent,e.next=9,a.invite(z,n.user,r.pubkey,x.CollectionAccessLevel[n.userAccess]);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:return e.prev=14,console.log("AlbumCard: Your invitation was successfully sent"),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))).apply(this,arguments)}function J(){return(J=Object(j.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!1),"Save"!==t){e.next=18;break}return e.prev=2,e.next=5,K(n.uid);case 5:return a=e.sent,r=a.getMeta(),a.setMeta(Object(o.a)(Object(o.a)({},r),{},{name:n.name,description:n.description})),e.next=10,L.upload(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:return e.prev=15,V(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function _(){return(_=Object(j.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!1),"Agree"!==t){e.next=17;break}return e.prev=2,e.next=5,K(n.uid);case 5:return(a=e.sent).delete(),e.next=9,L.upload(a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:return e.prev=14,V(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))).apply(this,arguments)}return Object(d.jsx)(g.a,{item:!0,xs:12,sm:6,md:4,children:Object(d.jsxs)(v.a,{className:t.root,children:[Object(d.jsxs)(y.a,{component:b.b,to:{pathname:"/gallery",state:{albumMeta:Y,albumCollection:z}},children:[Object(d.jsx)(w.a,{title:R}),Object(d.jsx)(C.a,{children:Object(d.jsx)(k.a,{variant:"body2",color:"textSecondary",component:"p",children:F})})]}),0!==z.accessLevel?Object(d.jsxs)(P.a,{children:[Object(d.jsx)(S.a,{size:"small",color:"primary",onClick:function(){W(!0)},children:Object(d.jsx)(T.a,{})}),Object(d.jsx)(Ot,{open:I,onClose:function(e,t){return H.apply(this,arguments)},nameValue:""}),Object(d.jsx)("div",{style:{flex:"1 0 0"}}),Object(d.jsx)(S.a,{size:"small",color:"primary",onClick:function(){s(!0)},children:Object(d.jsx)(D.a,{})}),Object(d.jsx)(je,{open:c,onClose:function(e,t){return J.apply(this,arguments)},selectedValue:"",album:Y,message:"Edit"}),Object(d.jsx)(S.a,{size:"small",color:"secondary",onClick:function(){O(!0)},children:Object(d.jsx)(A.a,{})}),Object(d.jsx)(be,{open:h,onClose:function(e,t){return _.apply(this,arguments)},selectedValue:"",album:Y,message:"album"})]}):null]})})}var R=n(22),F=n(430),E=n(431),V=n(432),U=n(457),q=n(452),B=n(436),Y=n(453),L=n(59),K=n.n(L);function G(){return Object(d.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(d.jsx)(F.a,{color:"inherit",href:"https://material-ui.com/",children:"Encryptographs"})," ",(new Date).getFullYear(),"."]})}var H=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function J(){var e="https://api.etebase.com/developer/javascript_developer/",t=H(),n=Object(a.useContext)(p),r=Object(i.a)(n,2),c=r[0],s=(r[1],Object(a.useState)(!1)),l=Object(i.a)(s,2),b=(l[0],l[1]),m=Object(a.useState)(!1),h=Object(i.a)(m,2),O=(h[0],h[1]),f=Object(a.useState)({currentPassword:"",newPassword:"",confirmNewPassword:""}),g=Object(i.a)(f,2),v=g[0],y=g[1];function w(){return(w=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.preventDefault(),b(!0),v.newPassword!==v.confirmNewPassword){t.next=9;break}return t.next=6,x.Account.login(c.user.username,v.currentPassword,e);case 6:return a=t.sent,t.next=9,a.changePassword(v.confirmNewPassword);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),O(!0);case 15:return t.prev=15,alert("Password Changed!"),b(!1),t.finish(15);case 19:case"end":return t.stop()}}),t,null,[[0,11,15,19]])})))).apply(this,arguments)}var C=function(e){y(Object(o.a)(Object(o.a)({},v),{},Object(R.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(E.a,{component:"main",maxWidth:"xs",children:[Object(d.jsx)(V.a,{}),Object(d.jsxs)("div",{className:t.paper,children:[Object(d.jsx)(U.a,{className:t.avatar,children:Object(d.jsx)(K.a,{})}),Object(d.jsx)(k.a,{component:"h1",variant:"h5",children:"Change Password"}),Object(d.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(e){return w.apply(this,arguments)},children:[Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"currentPassword",label:"Current Password",type:"password",name:"currentPassword",onChange:C,value:v.currentPassword,autoComplete:"currentPassword",autoFocus:!0}),Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"newPassword",onChange:C,label:"New Password",type:"password",value:v.newPassword,id:"newPassword",autoComplete:"newPassword"}),Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmNewPassword",onChange:C,label:"Confirm Password",type:"password",value:v.confirmNewPassword,id:"confirmNewPassword",autoComplete:"confirmNewPassword"}),Object(d.jsx)(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Change Password"})]})]}),Object(d.jsx)(Y.a,{mt:8,children:Object(d.jsx)(G,{})})]})}var _=n(18),Q=n(84),X=n.n(Q),Z=n(386),$=n(437),ee=n(456),te=n(454);function ne(e){return Object(d.jsx)(te.a,Object(o.a)({elevation:6,variant:"filled"},e))}function ae(){return Object(d.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(d.jsx)(F.a,{color:"inherit",href:"https://www.encryptographs.com",children:"Encryptographs"})," ",(new Date).getFullYear(),"."]})}var re=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ce(){var e=re(),t=Object(a.useContext)(p),n=Object(i.a)(t,2),r=(n[0],n[1]),c=Object(a.useContext)(m),s=Object(i.a)(c,2),l=s[0],b=(s[1],Object(a.useState)(!1)),h=Object(i.a)(b,2),O=h[0],f=h[1],g=Object(a.useState)(!1),v=Object(i.a)(g,2),y=v[0],w=v[1],C=Object(a.useState)({username:"",password:""}),P=Object(i.a)(C,2),S=P[0],N=P[1],A=Object(_.f)();function I(){return(I=Object(j.a)(u.a.mark((function e(t){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),f(!0),a={password:S.password},c=X.a.generateRSAKey(a.password,186),s=X.a.publicKeyString(c),e.next=8,x.Account.restore(l,s);case 8:n=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),w(!0);case 14:return e.prev=14,f(!1),n?r(n):A.push("/"),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[0,11,14,18]])})))).apply(this,arguments)}var D=function(e,t){"clickaway"!==t&&w(!1)};return Object(d.jsxs)(E.a,{component:"main",maxWidth:"xs",children:[Object(d.jsx)(V.a,{}),Object(d.jsxs)("div",{className:e.paper,children:[Object(d.jsx)(U.a,{className:e.avatar,children:Object(d.jsx)(K.a,{})}),Object(d.jsx)(k.a,{component:"h1",variant:"h5",children:"Confirm your password"}),Object(d.jsxs)("form",{className:e.form,onSubmit:function(e){return I.apply(this,arguments)},children:[Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",onChange:function(e){N(Object(o.a)(Object(o.a)({},S),{},Object(R.a)({},e.target.name,e.target.value)))},value:S.password,label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(d.jsx)(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Confirm Password"})]})]}),Object(d.jsx)(Y.a,{mt:8,children:Object(d.jsx)(ae,{})}),Object(d.jsx)(Z.a,{className:e.backdrop,open:O,children:Object(d.jsx)($.a,{color:"primary"})}),Object(d.jsx)(ee.a,{open:y,autoHideDuration:6e3,onClose:D,children:Object(d.jsx)(ne,{onClose:D,severity:"error",children:"Your username or password is incorrect."})})]})}var se=n(438),ie=n(439),oe=n(440),le=n(441),ue=n(442);Object(f.a)((function(e){return{button:{margin:e.spacing(1)}}}));function je(e){var t=e.onClose,n=e.selectedValue,r=e.open,c=e.album,s=e.message,l=Object(a.useState)({name:c.name||"",description:c.description||"",uid:c.uid||""}),u=Object(i.a)(l,2),j=u[0],b=u[1],p=function(e){b(Object(o.a)(Object(o.a)({},j),{},Object(R.a)({},e.target.name,e.target.value)))},m=function(e){"Create"===e&&b({name:"",description:"",uid:""}),t(e,j)};return Object(d.jsx)("div",{children:Object(d.jsxs)(se.a,{open:r,onClose:function(){t(n)},"aria-labelledby":"form-dialog-title",children:["Create"===s?Object(d.jsx)(ie.a,{id:"form-dialog-title",children:"Create Album"}):Object(d.jsx)(ie.a,{id:"form-dialog-title",children:"Edit Album"}),Object(d.jsxs)(oe.a,{children:[Object(d.jsx)(le.a,{children:"Please enter a name and description (optional) for your album."}),Object(d.jsx)(q.a,{autoFocus:!0,required:!0,margin:"dense",id:"name",label:"Name",name:"name",value:j.name,onChange:p,fullWidth:!0}),Object(d.jsx)(q.a,{margin:"dense",id:"description",label:"Description (Optional)",name:"description",onChange:p,value:j.description,fullWidth:!0})]}),Object(d.jsxs)(ue.a,{children:[Object(d.jsx)(B.a,{onClick:function(){return m("Cancel")},color:"primary",children:"Cancel"}),"Create"===s?Object(d.jsx)(B.a,{onClick:function(){return m("Create")},color:"primary",children:"Create"}):Object(d.jsx)(B.a,{onClick:function(){return m("Save")},color:"primary",children:"Save"})]})]})})}function be(e){var t=e.open,n=e.onClose,a=e.selectedValue,r=e.album,c=e.message,s=function(e){n(e,r)};return Object(d.jsx)("div",{children:Object(d.jsxs)(se.a,{open:t,onClose:function(){n(a)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(d.jsx)(ie.a,{id:"alert-dialog-title",children:"Delete this ".concat(c,"?")}),Object(d.jsx)(oe.a,{children:Object(d.jsx)(le.a,{id:"alert-dialog-description",children:"Please confirm that you wish to delete this ".concat(c,".")})}),Object(d.jsxs)(ue.a,{children:[Object(d.jsx)(B.a,{onClick:function(){return s("Disagree")},color:"primary",children:"Disagree"}),Object(d.jsx)(B.a,{onClick:function(){return s("Agree")},color:"primary",autoFocus:!0,children:"Agree"})]})]})})}var de=n(458),pe=n(435),me=n(387),he=n(443),Oe=n(444),xe=n(213),fe=n.n(xe),ge=n(214),ve=n.n(ge),ye=n(212),we=n.n(ye),Ce=Object(f.a)({list:{width:250},fullList:{width:"auto"}});function ke(){var e=Ce(),t=Object(a.useContext)(m),n=Object(i.a)(t,2),c=n[0],s=(n[1],Object(a.useState)(!1)),o=Object(i.a)(s,2),l=o[0],u=o[1],j=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&u(e)}};return Object(d.jsx)("div",{children:Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(B.a,{onClick:j(!0),children:Object(d.jsx)(we.a,{style:{color:"white"}})}),Object(d.jsx)(de.a,{anchor:"left",open:l,onClose:j(!1),children:Object(d.jsx)("div",{className:e.fullList,role:"presentation",onClick:j(!1),onKeyDown:j(!1),children:Object(d.jsxs)(pe.a,{children:[Object(d.jsxs)(me.a,{button:!0,component:b.b,to:"/home",children:[Object(d.jsx)(he.a,{children:Object(d.jsx)(fe.a,{})}),Object(d.jsx)(Oe.a,{primary:"Home"})]},"Home"),c?Object(d.jsxs)(me.a,{button:!0,component:b.b,to:"/albums",children:[Object(d.jsx)(he.a,{children:Object(d.jsx)(ve.a,{})}),Object(d.jsx)(Oe.a,{primary:"View Albums"})]},"View Albums"):null]})})})]},"left")})}var Pe=Object(f.a)((function(e){return{root:{flexGrow:1},centerColumn:{height:750}}})),Se=function(){var e=Object(a.useContext)(p),t=Object(i.a)(e,2),n=t[0],r=(t[1],Object(a.useContext)(m)),c=Object(i.a)(r,2),s=c[0],o=(c[1],Pe());return Object(d.jsx)(g.a,{container:!0,direction:"column",align:"center",children:Object(d.jsx)(g.a,{item:!0,container:!0,className:o.centerColumn,direction:"column",display:"flex",justifyContent:"center",children:Object(d.jsx)(k.a,{variant:"h2",children:s&&n?"Welcome ".concat(n.user.username,"!"):"Welcome"})})})};function Ne(e){return Object(d.jsx)(te.a,Object(o.a)({elevation:6,variant:"filled"},e))}function Ae(){return Object(d.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(d.jsx)(F.a,{color:"inherit",href:"https://www.encryptographs.com",children:"Encryptographs"})," ",(new Date).getFullYear(),"."]})}var Ie=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function De(){var e="https://api.etebase.com/developer/javascript_developer/",t=Ie(),n=Object(a.useContext)(p),r=Object(i.a)(n,2),c=(r[0],r[1]),s=Object(a.useContext)(m),l=Object(i.a)(s,2),h=(l[0],l[1]),O=Object(a.useState)(!1),f=Object(i.a)(O,2),v=f[0],y=f[1],w=Object(a.useState)(!1),C=Object(i.a)(w,2),P=C[0],S=C[1],N=Object(a.useState)({username:"",password:""}),A=Object(i.a)(N,2),I=A[0],D=A[1],W=Object(_.f)();function T(){return(T=Object(j.a)(u.a.mark((function t(n){var a,r,s,i,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n.preventDefault(),y(!0),r={username:I.username,password:I.password},t.next=6,x.Account.login(r.username,r.password,e);case 6:return s=t.sent,i=X.a.generateRSAKey(r.password,186),o=X.a.publicKeyString(i),t.next=11,s.save(o);case 11:a=t.sent,c(s),h(a),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),S(!0);case 19:return t.prev=19,y(!1),a&&(D({username:"",password:""}),W.push("/albums")),t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[0,16,19,23]])})))).apply(this,arguments)}var M=function(e){D(Object(o.a)(Object(o.a)({},I),{},Object(R.a)({},e.target.name,e.target.value)))},z=function(e,t){"clickaway"!==t&&S(!1)};return Object(d.jsxs)(E.a,{component:"main",maxWidth:"xs",children:[Object(d.jsx)(V.a,{}),Object(d.jsxs)("div",{className:t.paper,children:[Object(d.jsx)(U.a,{className:t.avatar,children:Object(d.jsx)(K.a,{})}),Object(d.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(d.jsxs)("form",{className:t.form,onSubmit:function(e){return T.apply(this,arguments)},children:[Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:M,value:I.username,autoComplete:"username",autoFocus:!0}),Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",onChange:M,value:I.password,label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(d.jsx)(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),Object(d.jsx)(g.a,{container:!0,justifyContent:"center",children:Object(d.jsx)(g.a,{item:!0,children:Object(d.jsx)(F.a,{component:b.b,to:"/signup",children:"Don't have an account? Sign Up"})})})]})]}),Object(d.jsx)(Y.a,{mt:8,children:Object(d.jsx)(Ae,{})}),Object(d.jsx)(Z.a,{className:t.backdrop,open:v,children:Object(d.jsx)($.a,{color:"primary"})}),Object(d.jsx)(ee.a,{open:P,autoHideDuration:6e3,onClose:z,children:Object(d.jsx)(Ne,{onClose:z,severity:"error",children:"Your username or password is incorrect."})})]})}var We=n(141),Te=n.n(We);function Me(){return Object(d.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(d.jsx)(F.a,{color:"inherit",href:"https://www.encryptographs.com",children:"Encryptographs"})," ",(new Date).getFullYear(),"."]})}var ze=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},form:{width:"100%",marginTop:e.spacing(1)},gridContainer:{paddingLeft:"40px",paddingRight:"40px"},submit:{margin:e.spacing(3,0,2)}}}));function Re(){var e=ze(),t=Object(_.f)(),n="",r={name:"",description:""},c=Object(a.useState)({}),s=Object(i.a)(c,2),o=s[0],l=s[1],b=Object(a.useState)(!1),h=Object(i.a)(b,2),O=h[0],x=h[1],f=Object(a.useContext)(p),v=Object(i.a)(f,2),y=v[0],w=(v[1],Object(a.useContext)(m)),C=Object(i.a)(w,2),P=C[0];C[1];function S(){return N.apply(this,arguments)}function N(){return(N=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.getCollectionManager(),e.prev=1,e.next=4,t.list("encryptograph.album");case 4:n=e.sent,l(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}P||t.push("/login"),Object(a.useEffect)((function(){P&&S()}),[]);var A=function(){x(!0)};function I(e,t){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!1),"Create"!==t){e.next=18;break}return a=y.getCollectionManager(),e.prev=3,e.next=6,a.create("encryptograph.album",{name:n.name,description:n.description},"");case 6:return r=e.sent,e.next=9,a.upload(r);case 9:console.log("Albums - Your album was created",r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:return e.prev=15,S(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})))).apply(this,arguments)}return Object(d.jsx)("div",{children:void 0!==o.data&&o.data.length&&0!==o.data.filter((function(e){return!1===e.isDeleted})).length?Object(d.jsxs)("div",{children:[Object(d.jsxs)(E.a,{component:"main",children:[Object(d.jsx)(V.a,{}),Object(d.jsxs)("div",{className:e.paper,children:[Object(d.jsx)(U.a,{className:e.avatar,children:Object(d.jsx)(Te.a,{})}),Object(d.jsx)(k.a,{component:"h1",variant:"h5",gutterBottom:!0,children:"My Albums"}),Object(d.jsx)(g.a,{container:!0,className:e.gridContainer,spacing:4,children:o.data.map((function(e){return e.isDeleted?null:Object(d.jsx)(z,{album:e,name:e.getMeta().name,description:e.getMeta().description,uid:e.uid,getAlbums:S},e.uid)}))}),Object(d.jsx)(B.a,{variant:"contained",color:"primary",className:e.submit,onClick:A,children:"Create Album"}),Object(d.jsx)(je,{open:O,onClose:I,selectedValue:"",album:r,message:"Create"})]})]}),Object(d.jsx)(Y.a,{mt:8,children:Object(d.jsx)(Me,{})})]}):Object(d.jsxs)(E.a,{component:"main",maxWidth:"xs",children:[Object(d.jsx)(V.a,{}),Object(d.jsxs)("div",{className:e.paper,children:[Object(d.jsx)(U.a,{className:e.avatar,children:Object(d.jsx)(Te.a,{})}),Object(d.jsx)(k.a,{component:"h1",variant:"h5",children:"My Albums"}),Object(d.jsx)(k.a,{children:"Looks like you don't have any albums."}),Object(d.jsx)(B.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:A,children:"Create Album"}),Object(d.jsx)(je,{open:O,onClose:I,selectedValue:"",album:r,message:"Create"})]}),Object(d.jsx)(Y.a,{mt:8,children:Object(d.jsx)(Me,{})})]})})}var Fe=n(94),Ee=n(95),Ve=n(142),Ue=n(143),qe=n.n(Ue),Be=(n(382),Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},form:{width:"100%",marginTop:e.spacing(1)},gridContainer:{paddingLeft:"40px",paddingRight:"40px"},submit:{margin:e.spacing(3,0,2)}}})));function Ye(e){var t=Be(),n=Object(_.g)(),r=n.state.albumMeta.name,c=n.state.albumCollection,s=Object(a.useState)([]),o=Object(i.a)(s,2),l=o[0],b=o[1],h=Object(a.useState)([]),O=Object(i.a)(h,2),x=O[0],f=O[1],v=[],y=Object(a.useRef)(),w=Object(_.f)(),C=Object(a.useContext)(p),P=Object(i.a)(C,2),S=P[0],N=(P[1],Object(a.useContext)(m)),A=Object(i.a)(N,2),I=A[0],D=(A[1],Object(a.useState)(!1)),W=Object(i.a)(D,2),T=W[0],M=W[1],z=S.getCollectionManager().getItemManager(c);I||w.push("/login"),Object(a.useEffect)((function(){!l.length&&function(){R.apply(this,arguments)}()}),[]);function R(){return(R=Object(j.a)(u.a.mark((function e(){var t,n,a,r,c,s,i,o,l,b,d,p,m,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=function(){return(h=Object(j.a)(u.a.mark((function e(t){var n,a,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,n){var a=e.indexOf(t);return e.slice(0,a)+n+e.slice(a)},r=(n=function(e,t,n){var a=e.indexOf(t)+t.length;return e.slice(0,a)+n+e.slice(a)})(t,"data",":"),c=a(r,"base64",";"),s=n(c,"base64",","),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m=function(e){return h.apply(this,arguments)},t=[],n=[],a=[],e.next=7,z.list();case 7:r=e.sent,c=Object(Ee.a)(r.data);try{for(c.s();!(s=c.n()).done;)!(i=s.value).isDeleted&&a.push(i)}catch(O){c.e(O)}finally{c.f()}o=0,l=a;case 11:if(!(o<l.length)){e.next=24;break}return b=l[o],e.next=15,b.getContent();case 15:return d=e.sent,e.next=18,m(Ve.a.fromUint8Array(d));case 18:p=e.sent,t.push(p),n.push(b.uid);case 21:o++,e.next=11;break;case 24:K(t,n);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:return n=e.sent,e.next=6,Y(n);case 6:e.sent,K(n,v),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function U(e){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=function(e){var t=new FileReader;return new Promise((function(n){t.onload=function(e){n(e.target.result)},t.readAsDataURL(e)}))},a=[],r=Array.from(t.target.files),t.target.value="",c=0;c<r.length;c++)a.push(n(r[c]));return e.next=7,Promise.all(a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return L.apply(this,arguments)}function L(){return(L=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.reduce(function(){var e=Object(j.a)(u.a.mark((function e(t,n){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return a=e.sent,r=Ve.a.toUint8Array(n),e.next=6,z.create({type:"file",name:"image.png",mtime:(new Date).getTime()},r);case 6:return c=e.sent,a.push(c),v.push(c.uid),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve([]));case 2:return n=e.sent,e.next=5,z.batch(n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){if(0===l.length){var n,a=[],r=Object(Ee.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;a.push({original:c,thumbnail:c})}}catch(p){r.e(p)}finally{r.f()}b(a)}else{var s,i=Object(Ee.a)(e);try{var o=function(){var e=s.value;b((function(t){return[].concat(Object(Fe.a)(t),[{original:e,thumbnail:e}])}))};for(i.s();!(s=i.n()).done;)o()}catch(p){i.e(p)}finally{i.f()}}var u,j=Object(Ee.a)(t);try{var d=function(){var e=u.value;f((function(t){return[].concat(Object(Fe.a)(t),[e])}))};for(j.s();!(u=j.n()).done;)d()}catch(p){j.e(p)}finally{j.f()}}function G(){return(G=Object(j.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.current,a=n.getCurrentIndex(),r=x[a],M(!1),"Agree"!==t){e.next=21;break}return e.prev=5,e.next=8,z.fetch(r);case 8:return(c=e.sent).delete(),e.next=12,z.batch([c]);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0);case 17:return e.prev=17,f((function(e){return e.filter((function(e,t){return t!==a}))})),b((function(e){return e.filter((function(e,t){return t!==a}))})),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[5,14,17,21]])})))).apply(this,arguments)}return Object(d.jsxs)(E.a,{component:"main",children:[Object(d.jsx)(V.a,{}),Object(d.jsx)("div",{className:t.paper,children:Object(d.jsxs)(g.a,{container:!0,justifyContent:"center",children:[Object(d.jsx)(g.a,{item:!0,container:!0,display:"flex",justifyContent:"center",children:Object(d.jsx)(k.a,{variant:"h4",children:r})}),Object(d.jsx)(g.a,{container:!0,item:!0,justifyContent:"center",children:0===l.length?Object(d.jsx)(qe.a,{items:l,showFullscreenButton:!1,showPlayButton:!1,ref:y}):Object(d.jsx)(qe.a,{items:l,ref:y})}),0!==c.accessLevel?Object(d.jsxs)(g.a,{container:!0,item:!0,justifyContent:"center",children:[Object(d.jsxs)("label",{htmlFor:"upload-images",children:[Object(d.jsx)("input",{style:{display:"none"},id:"upload-images",name:"upload-images",type:"file",onChange:function(e){return F.apply(this,arguments)},multiple:!0}),Object(d.jsx)(B.a,{variant:"contained",color:"primary",component:"span",children:"Add Images"})]}),Object(d.jsxs)("label",{htmlFor:"delete-image",children:[Object(d.jsx)(B.a,{variant:"contained",color:"primary",component:"span",onClick:function(){M(!0)},children:"Delete Image"}),Object(d.jsx)(be,{open:T,onClose:function(e){return G.apply(this,arguments)},selectedValue:"",message:"image"})]})]}):null]})})]})}var Le=n(221),Ke=n(445),Ge=n(446),He=n(447),Je=n(448),_e=n(93),Qe=n.n(_e),Xe=n(144),Ze=n.n(Xe),$e=n(215),et=n.n($e),tt=Object(f.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},sectionDesktop:Object(R.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(R.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),title:Object(R.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"})}}));function nt(){var e=tt(),t=r.a.useState(null),n=Object(i.a)(t,2),c=n[0],s=n[1],o=r.a.useState(null),l=Object(i.a)(o,2),O=l[0],x=l[1],f=Boolean(c),g=Boolean(O),v=Object(_.f)(),y=Object(a.useContext)(p),w=Object(i.a)(y,2),C=w[0],P=w[1],N=Object(a.useContext)(m),A=Object(i.a)(N,2),I=A[0],D=A[1],W=Object(a.useContext)(h),T=Object(i.a)(W,2),M=T[0],z=T[1],R=function(e){s(e.currentTarget)},E=function(){x(null)},V=function(){s(null),E()},U="primary-search-account-menu",q=Object(d.jsxs)(Le.a,{anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"right"},id:U,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},getContentAnchorEl:null,open:f,onClose:V,children:[Object(d.jsx)(Ke.a,{onClick:function(){V(),v.push("/changepassword")},children:"Change Password"}),Object(d.jsx)(Ke.a,{onClick:function(){V(),v.push("/publickey")},children:"View Public Key"}),Object(d.jsx)(Ke.a,{onClick:function(){return K.apply(this,arguments)},children:"Logout"})]}),Y="primary-search-account-menu-mobile",L=Object(d.jsxs)(Le.a,{anchorEl:O,anchorOrigin:{vertical:"top",horizontal:"right"},id:Y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:E,children:[Object(d.jsx)(Ke.a,{children:Object(d.jsx)(S.a,{"aria-label":"show new invites",color:"inherit",children:Object(d.jsx)(Ge.a,{badgeContent:4,color:"secondary",children:Object(d.jsx)(Ze.a,{})})})}),Object(d.jsxs)(Ke.a,{onClick:R,children:[Object(d.jsx)(S.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(d.jsx)(Qe.a,{})}),Object(d.jsx)("p",{children:"Profile"})]})]});function K(){return(K=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),e.next=3,C.logout();case 3:D(""),P(""),v.push("/");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.getInvitationManager(),e.next=3,t.listIncoming();case 3:n=e.sent,z(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){""!==C&&function(){G.apply(this,arguments)}()}),[C]),Object(d.jsxs)("div",{className:e.grow,children:[Object(d.jsx)(He.a,{position:"static",style:{position:"fixed",top:0,left:0},children:Object(d.jsxs)(Je.a,{children:[Object(d.jsx)(ke,{}),Object(d.jsx)(k.a,{variant:"h6",className:e.title,noWrap:!0,children:Object(d.jsx)(F.a,{color:"inherit",component:b.b,to:"/",children:"Encryptographs"})}),Object(d.jsx)("div",{className:e.grow}),I?Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:e.sectionDesktop,children:[Object(d.jsx)(S.a,{"aria-label":"show new invites",color:"inherit",component:b.b,to:"/invites",children:Object(d.jsx)(Ge.a,{badgeContent:M.data?M.data.length:0,color:"secondary",children:Object(d.jsx)(Ze.a,{})})}),Object(d.jsx)(S.a,{edge:"end","aria-label":"account of current user","aria-controls":U,"aria-haspopup":"true",onClick:R,color:"inherit",children:Object(d.jsx)(Qe.a,{})})]}),Object(d.jsx)("div",{className:e.sectionMobile,children:Object(d.jsx)(S.a,{"aria-label":"show more","aria-controls":Y,"aria-haspopup":"true",onClick:function(e){x(e.currentTarget)},color:"inherit",children:Object(d.jsx)(et.a,{})})})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)(B.a,{color:"inherit",component:b.b,to:"/signup",children:"Signup"}),Object(d.jsx)(B.a,{color:"inherit",component:b.b,to:"/login",children:"Login"})]})]})}),L,q]})}function at(){return Object(d.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(d.jsx)(F.a,{color:"inherit",href:"https://material-ui.com/",children:"Encryptographs"})," ",(new Date).getFullYear(),"."]})}var rt=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ct(){var e="https://api.etebase.com/developer/javascript_developer/",t=rt(),n=Object(a.useState)({username:"",email:"",password:"",confirmPassword:""}),r=Object(i.a)(n,2),c=r[0],s=r[1];function l(){return(l=Object(j.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(a={username:c.username,email:c.email,password:c.password,confirmPassword:c.confirmPassword}).confirmPassword!==a.password&&alert("Your passwords do not match"),t.next=5,x.Account.signup({username:a.username,email:a.email},a.password,e);case 5:return t.sent,t.next=8,x.Account.login(a.username,a.password,e);case 8:t.sent,s({username:"",email:"",password:"",confirmPassword:""});case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var b=function(e){e.persist(),s(Object(o.a)(Object(o.a)({},c),{},Object(R.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(E.a,{component:"main",maxWidth:"xs",children:[Object(d.jsx)(V.a,{}),Object(d.jsxs)("div",{className:t.paper,children:[Object(d.jsx)(U.a,{className:t.avatar,children:Object(d.jsx)(K.a,{})}),Object(d.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(d.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(e){return l.apply(this,arguments)},children:[Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"email",onChange:b,label:"Email",type:"email",value:c.email,id:"email",autoFocus:!0}),Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:b,value:c.username,autoComplete:"username"}),Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",onChange:b,label:"Password",type:"password",value:c.password,id:"password",autoComplete:"current-password"}),Object(d.jsx)(q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",onChange:b,label:"Confirm Password",type:"password",value:c.confirmPassword,id:"confirmPassword",autoComplete:"current-password"}),Object(d.jsx)(B.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"})]})]}),Object(d.jsx)(Y.a,{mt:8,children:Object(d.jsx)(at,{})})]})}var st=Object(f.a)((function(e){return{root:{flexGrow:1},title:{marginTop:e.spacing(8)},centerColumn:{height:750,marginTop:e.spacing(-30)}}}));function it(){var e=Object(a.useContext)(p),t=Object(i.a)(e,2),n=t[0],r=(t[1],st()),c=n.getInvitationManager().pubkey,s=x.getPrettyFingerprint(c," "),o=s.substr(0,23),l=s.substr(24,23),u=s.substr(48);return Object(d.jsxs)(g.a,{container:!0,direction:"column",align:"center",children:[Object(d.jsx)(k.a,{component:"h1",variant:"h4",className:r.title,children:"Your Public Key"}),Object(d.jsxs)(g.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",className:r.centerColumn,children:[Object(d.jsx)(k.a,{variant:"h5",children:o}),Object(d.jsx)(k.a,{variant:"h5",children:l}),Object(d.jsx)(k.a,{variant:"h5",children:u})]})]})}var ot=n(42),lt=n(449),ut=n(433),jt=n(459),bt=n(450),dt=n(455),pt=n(216),mt=n.n(pt),ht=Object(f.a)((function(e){return{button:{margin:e.spacing(1)}}}));function Ot(e){var t=ht(),n=Object(ot.a)(),r=Object(lt.a)(n.breakpoints.down("sm")),c=e.onClose,s=(e.selectedValue,e.open),l=Object(a.useState)({user:"",userAccess:"ReadOnly"}),u=Object(i.a)(l,2),j=u[0],b=u[1],p=function(e){b({user:"",userAccess:"ReadOnly"}),c("Cancel",j)};return Object(d.jsx)(se.a,{open:s,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullScreen:r,children:Object(d.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),b({user:"",userAccess:"ReadOnly"}),c("Send",j)},children:[Object(d.jsxs)(oe.a,{children:[Object(d.jsx)(le.a,{id:"alert-dialog-description",children:"Please enter the name of the user you would like to share this album with and select the level of access you would like them to have."}),Object(d.jsx)(q.a,{autoFocus:!0,id:"user",label:"User",name:"user",required:!0,variant:"outlined",value:j.user,onChange:function(e){b(Object(o.a)(Object(o.a)({},j),{},Object(R.a)({},e.target.name,e.target.value)))},fullWidth:!0}),Object(d.jsx)(ut.a,{component:"fieldset",children:Object(d.jsxs)(jt.a,{row:!0,"aria-label":"position",name:"position",onChange:function(e){b(Object(o.a)(Object(o.a)({},j),{},{userAccess:e.target.value}))},value:j.userAccess,children:[Object(d.jsx)(bt.a,{control:Object(d.jsx)(dt.a,{color:"primary"}),label:"Admin",labelPlacement:"bottom",name:"Admin",value:"Admin"}),Object(d.jsx)(bt.a,Object(R.a)({value:"ReadWrite",control:Object(d.jsx)(dt.a,{color:"primary"}),label:"View and Add/Delete",labelPlacement:"bottom",name:"ReadWrite"},"value","ReadWrite")),Object(d.jsx)(bt.a,Object(R.a)({value:"ReadOnly",control:Object(d.jsx)(dt.a,{color:"primary"}),label:"View Only",labelPlacement:"bottom",name:"ReadOnly"},"value","ReadOnly"))]})})]}),Object(d.jsxs)(ue.a,{children:[Object(d.jsx)(B.a,{onClick:p,color:"primary",value:"Cancel",children:"Cancel"}),Object(d.jsx)("div",{style:{flex:"1 0 0"}}),Object(d.jsx)(B.a,{type:"submit",variant:"contained",color:"primary",className:t.button,endIcon:Object(d.jsx)(mt.a,{children:"send"}),value:"Send",children:"Send"})]})]})})}var xt=n(451),ft=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},root:{flexGrow:1},button:{marginRight:"10px",marginTop:"10px"},listItem:{paddingRight:"200px"},centerColumn:{height:750}}}));function gt(){var e=ft(),t=Object(a.useContext)(h),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useContext)(p),o=Object(i.a)(s,2),l=o[0],b=(o[1],Object(a.useContext)(m)),O=Object(i.a)(b,2),f=O[0],v=(O[1],Object(a.useState)(!1)),y=Object(i.a)(v,2),w=y[0],C=y[1],P=Object(_.f)();f||P.push("/login");var N=function(){C(!0)};function A(){return I.apply(this,arguments)}function I(){return(I=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.getInvitationManager(),e.next=3,t.listIncoming();case 3:n=e.sent,c(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=l.getInvitationManager(),e.next=4,n.accept(t);case 4:A(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function W(){return(W=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=l.getInvitationManager(),e.next=4,n.reject(t);case 4:A(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function T(e){var t=e.fromPubkey,n=x.getPrettyFingerprint(t," ");return{lineOne:n.substr(0,23),lineTwo:n.substr(24,23),lineThree:n.substr(48)}}return Object(d.jsx)("div",{className:e.paper,children:Object(d.jsx)(g.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:0!==r.data.length?r.data.map((function(t){return Object(d.jsx)(g.a,{item:!0,xs:12,md:12,children:Object(d.jsx)("div",{children:Object(d.jsx)(pe.a,{children:Object(d.jsxs)(me.a,{divider:!0,className:e.listItem,children:[Object(d.jsx)(S.a,{onClick:N,children:Object(d.jsx)(Qe.a,{})}),Object(d.jsx)(Nt,{open:w,onClose:C,username:t.fromUsername,getPublicKey:T(t)}),Object(d.jsx)(Oe.a,{primary:t.fromUsername,secondary:"".concat(t.fromUsername," wants to share an album with you.")}),Object(d.jsxs)(xt.a,{children:[Object(d.jsx)(B.a,{className:e.button,variant:"outlined",color:"secondary","aria-label":"deny",size:"small",onClick:function(){!function(e){W.apply(this,arguments)}(t)},children:"Deny"}),Object(d.jsx)(B.a,{className:e.button,edge:"end",variant:"contained","aria-label":"accept",color:"primary",size:"small",onClick:function(){!function(e){D.apply(this,arguments)}(t)},children:"Accept"})]})]})})})},t.uid)})):Object(d.jsx)(k.a,{variant:"h5",children:"You do not have any invites"})})})}var vt=n(223),yt=n(5),wt=n(217),Ct=n.n(wt),kt=["children","classes","onClose"],Pt=Object(yt.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(0),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,a=e.onClose,r=Object(vt.a)(e,kt);return Object(d.jsxs)(ie.a,Object(o.a)(Object(o.a)({disableTypography:!0,className:n.root},r),{},{children:[Object(d.jsx)(k.a,{variant:"h6",children:t}),a?Object(d.jsx)(S.a,{"aria-label":"close",className:n.closeButton,onClick:a,children:Object(d.jsx)(Ct.a,{})}):null]}))})),St=Object(yt.a)((function(e){return{root:{padding:e.spacing(3)}}}))(oe.a);function Nt(e){var t=e.open,n=e.onClose,a=e.username,r=e.getPublicKey,c=function(){n(!1)};return Object(d.jsxs)(se.a,{onClose:c,"aria-labelledby":"customized-dialog-title",open:t,children:[Object(d.jsx)(Pt,{id:"customized-dialog-title",onClose:c,children:"".concat(a,"'s Public Key")}),Object(d.jsxs)(St,{dividers:!0,children:[Object(d.jsx)(k.a,{gutterBottom:!0,children:r.lineOne}),Object(d.jsx)(k.a,{gutterBottom:!0,children:r.lineTwo}),Object(d.jsx)(k.a,{gutterBottom:!0,children:r.lineThree})]})]})}var At=n(218),It=n(219),Dt=n(222),Wt=n(220),Tt=function(e){Object(Dt.a)(n,e);var t=Object(Wt.a)(n);function n(){return Object(At.a)(this,n),t.apply(this,arguments)}return Object(It.a)(n,[{key:"render",value:function(){return Object(d.jsxs)(_.c,{children:[Object(d.jsx)(_.a,{exact:!0,path:"/",component:Se}),Object(d.jsx)(_.a,{path:"/changepassword",component:J}),Object(d.jsx)(_.a,{path:"/home",component:Se}),Object(d.jsx)(_.a,{path:"/login",component:De}),Object(d.jsx)(_.a,{path:"/albums",component:Re}),Object(d.jsx)(_.a,{path:"/gallery",component:Ye}),Object(d.jsx)(_.a,{path:"/signup",component:ct}),Object(d.jsx)(_.a,{path:"/publickey",component:it}),Object(d.jsx)(_.a,{path:"/invites",component:gt})]})}}]),n}(a.Component);function Mt(){var e=Object(a.useContext)(p),t=Object(i.a)(e,2),n=t[0],r=(t[1],Object(a.useContext)(m)),c=Object(i.a)(r,2),s=c[0];c[1];return s&&!n?Object(d.jsx)("div",{children:Object(d.jsx)(ce,{})}):Object(d.jsxs)("div",{children:[Object(d.jsx)(nt,{}),Object(d.jsx)(Tt,{})]})}s.a.render(Object(d.jsx)(O,{children:Object(d.jsx)(b.a,{children:Object(d.jsx)(Mt,{})})}),document.getElementById("app"))}},[[383,1,2]]]);
//# sourceMappingURL=main.e22c3c8b.chunk.js.map